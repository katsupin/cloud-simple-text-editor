# 開発タスク管理

## 🔍 ノート横断検索機能

### Phase 1: ファイル名フィルタリング
- [x] **COMPLETED** 検索窓UI設計（ファイル名フィルタリング）
- [x] **COMPLETED** リアルタイム検索機能実装
- [x] **COMPLETED** 大文字小文字区別なし検索
- [x] **COMPLETED** 部分一致検索機能

### Phase 2: ファイル内容検索  
- [x] **COMPLETED** ファイル内容検索機能の実装検討
- [x] **COMPLETED** GitHub API経由でのファイル内容取得
- [x] **COMPLETED** 検索結果ハイライト機能
- [x] **COMPLETED** 検索モード切替UI（ファイル名/内容）
- [x] **COMPLETED** マッチした行の表示（行番号付き）
- [x] **COMPLETED** 検索語のハイライト表示

### Phase 3: 高度な検索
- [ ] 正規表現サポート
- [ ] 検索履歴機能
- [ ] 検索結果コンテキスト表示

## 🏷️ バージョン管理自動化

### 高優先度
- [x] **COMPLETED** バージョン表示の統一（2箇所→1箇所）
- [x] **COMPLETED** 自動バージョン更新システムの実装

### 中優先度  
- [ ] インクリメンタル数値によるバージョン管理導入
- [ ] GitHub Actions自動化ワークフロー

## 📱 スクロール仕様改善

### 優先度: 中
- [x] **COMPLETED** ファイル開いた時の自動下端スクロール機能
  - [x] **COMPLETED** 設定UIの追加（デフォルトOFF）
  - [x] **COMPLETED** processFileContent関数への実装
  - [x] **COMPLETED** localStorageへの設定保存
- [x] **COMPLETED** PC版スクロールコントロール追加
  - [x] **COMPLETED** Ctrl+Home/Endショートカット実装
  - [ ] スクロールボタンUI（オプション）
- [x] **COMPLETED** スクロール位置記憶機能
  - [x] **COMPLETED** ファイルごとの位置保存
  - [x] **COMPLETED** 復元ロジック実装
  - [x] **COMPLETED** デバウンス処理で効率的に保存
  - [x] **COMPLETED** 100件の履歴制限（古いものから削除）

## 📅 進捗記録

### 2025-06-11
- ✅ フォルダ構造サポート実装
- ✅ コンテキストメニュー改善
- ✅ ファイルフィルタリング改善
- ✅ バージョン表示機能追加
- ✅ **バージョン管理統一完了**
  - パフォーマンス情報内のバージョン表示を削除
  - 右下のバージョン表示のみに統一
  - タイムスタンプベースのバージョン番号採用（v2.1.YYYYMMDD.HHMM）
  - 自動バージョン更新スクリプト（update-version.js）作成

### 実装完了
- ✅ バージョン表示統一
- ✅ 自動バージョン更新システム

### 次回実装予定
1. 🔍 ファイル内容検索機能
2. 📝 検索結果ハイライト機能

### 2025-06-11 追加実装
- ✅ **検索機能 Phase 1 完了**
  - 検索窓UI実装（ファイル一覧ヘッダー下に配置）
  - リアルタイム検索機能（入力時に即座にフィルタリング）
  - 大文字小文字区別なし検索
  - 部分一致検索（フォルダ・ファイル両対応）
  - 検索結果件数表示
  - 検索クリアボタン
  - 検索状態のビジュアルフィードバック

### 2025-06-11 Phase 2 完了
- ✅ **検索機能 Phase 2 完了**
  - ファイル内容検索機能実装
  - GitHub API経由でのファイル内容取得とキャッシング
  - 検索モード切替UI（ファイル名/内容検索）
  - マッチした行の表示（最大3行、行番号付き）
  - 検索語のハイライト表示（mark要素使用）
  - onSearchModeChange関数実装
  - highlightMatch関数実装（HTMLエスケープ対応）
  - 検索結果専用スタイル追加

### 2025-06-11 スクロール機能改善
- ✅ **自動下端スクロール機能実装**
  - 設定ダイアログUI実装（⚙️ボタン追加）
  - チェックボックスで有効/無効を切り替え可能
  - localStorageで設定を永続化
  - processFileContent関数に自動スクロール処理追加
  - デフォルトはOFF（ユーザーフレンドリー）
- ✅ **PC版キーボードショートカット実装**
  - Ctrl+Home: エディタ最上部へスクロール
  - Ctrl+End: エディタ最下部へスクロール
  - スムーズスクロール対応
- ✅ **スクロール位置記憶機能実装**
  - ファイルごとにスクロール位置を保存（localStorageに永続化）
  - ファイルを開き直した時に前回の位置を自動復元
  - スクロール時に500msのデバウンス処理で効率化
  - 最大100ファイル分の履歴を保持（古いものから削除）
  - 端末/ブラウザごとに独立して記憶
  - beforeunloadイベントで確実に保存