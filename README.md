# PlainHub - GitHub連携プレーンテキストエディタ

> Your text, your repo, your control

PlainHubは、GitHubリポジトリ上のプレーンテキストファイルを直接編集できるWebベースのエディタです。サーバー不要、データベース不要。必要なのはGitHubアカウントとブラウザだけ。

## ✨ 特徴

- 🔒 **完全なデータ所有権** - すべてのファイルはあなたのGitHubリポジトリに保存
- ⚡ **超軽量・高速** - 数万行のテキストでも軽快に動作
- 🔄 **自動バージョン管理** - すべての変更がGitで記録
- 🌐 **どこからでもアクセス** - ブラウザさえあれば編集可能
- 🛡️ **透明性** - オープンソース、コード完全性検証機能付き

## 🚀 セットアップ手順

### 1. GitHub Personal Access Token の取得

1. GitHub にログイン
2. `Settings` → `Developer settings` → `Personal access tokens` → `Tokens (classic)`
3. `Generate new token (classic)` をクリック
4. **必要なスコープ:** 
   - ✅ `repo` (プライベートリポジトリアクセス用)
   - ✅ `public_repo` (パブリックリポジトリ用)
5. トークンをコピーして保存

### 2. テスト用リポジトリの準備

```bash
# 新しいリポジトリを作成（GitHubウェブサイトで）
# または既存のリポジトリを使用

# テスト用ファイルを作成
echo "# テストノート" > test-note.md
echo "これはテスト用のノートファイルです。" >> test-note.md
```

### 3. アプリケーションの起動

```bash
# ローカルサーバー起動
python3 -m http.server 8080

# ブラウザでアクセス
# http://localhost:8080/index.html
```

### 4. 動作確認手順

1. **認証**: `GitHub でログイン` → Personal Access Token を入力
2. **リポジトリ選択**: `username/repo-name` 形式で入力
3. **ファイル選択**: `.md` または `.txt` ファイルを選択
4. **編集テスト**: ファイルを編集して自動保存を確認
5. **同期確認**: GitHubで変更がcommitされているか確認

## 📊 パフォーマンステスト

### 大容量ファイルテスト
```bash
# テストデータ生成
python3 generate_test_data.py

# パフォーマンステスト実行
# http://localhost:8080/performance_test.html
```

### 検証項目
- ✅ 読み込み時間: ~500ms (2.9MB, 81,260行)
- ✅ 編集応答性: リアルタイム
- ✅ メモリ使用量: ~100MB
- ✅ 自動保存: 2秒間隔

## 🚀 新機能（v2.0）

### ✨ 改善されたユーザー体験

**1. スマートログイン**
- ✅ Personal Access Token の自動記憶・入力
- ✅ パスワードマネージャー対応
- ✅ ワンクリックログイン

**2. リポジトリ選択UI**
- ✅ ユーザーの全リポジトリ一覧表示
- ✅ プライベート/パブリック表示
- ✅ 最近使用したリポジトリを優先表示
- ✅ 説明文付きで分かりやすい選択

**3. 複数PC環境サポート**
- ✅ ブックマーク1つで即座にアクセス
- ✅ 認証情報の安全な保存
- ✅ 最後に使ったリポジトリを自動選択

### 🔄 複数PC間でのワークフロー

```
PC1: ブックマーク → 自動ログイン → 編集
PC2: 同じブックマーク → 自動ログイン → 続きから編集
スマホ: 同じURL → トークン入力（初回のみ） → どこでも編集
```

## 🔧 トラブルシューティング

### よくある問題

**1. "リポジトリの取得に失敗しました"**
- Personal Access Token のスコープを確認
- リポジトリ名の形式を確認 (`username/repo-name`)

**2. "ファイルの保存に失敗しました"**
- ファイルが他で編集されていないか確認
- ネットワーク接続を確認

**3. パフォーマンスが遅い**
- ブラウザの拡張機能を無効化
- 他のタブを閉じてメモリを確保

**4. トークンが保存されない**
- 「このデバイスでトークンを記憶する」にチェック
- ブラウザのプライベートモードでないことを確認

## 📱 対応ブラウザ

- ✅ Chrome 90+
- ✅ Firefox 88+
- ✅ Safari 14+
- ✅ Edge 90+

## 🛡️ セキュリティ

- Personal Access Token はローカルストレージに保存
- HTTPS通信でGitHub APIと通信
- トークンは手動で削除可能（ログアウト機能）

## Code Integrity

このアプリケーションは、実行中のコードがGitHubリポジトリと同一であることを検証できます。

### 検証方法

1. アプリケーション内で検証:
   - 右下のバージョン番号をクリック
   - または開発者コンソールで `debugApp.verifyIntegrity()` を実行

2. 詳細な検証情報:
   - [INTEGRITY.md](./INTEGRITY.md) - 完全性検証の詳細ドキュメント

### 透明性の保証

- すべてのコードがオープンソース
- GitHub Pagesから直接配信（ビルドプロセスなし）
- いつでも検証可能なハッシュ値
- すべての変更履歴がGitで追跡可能